@page "/blog/{*pathInfo}"
@model docs.unilake.Page
@inject MarkdownPages Markdown
@implements IRenderStatic<docs.unilake.Page>
@functions {
    public List<Page> GetStaticProps(RenderContext ctx)
    {
        var markdown = ctx.Resolve<MarkdownPages>();
        var pages = markdown.GetVisiblePages();
        return pages
            .Where(x => x.Path.StartsWith("_pages/blog"))
            .Map(page => new Page { PathInfo = page.FileName!.Replace(".md", "") });
    }
}

@await Html.PartialAsync("ArticlePage", new Shared.ArticlePage {
   Slug = Model.Slug,
   Folder = Model.Folder,
}.Init(this, Markdown))
